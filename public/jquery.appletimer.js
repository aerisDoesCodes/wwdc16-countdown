!function(e,t,s,n){"use strict";function l(t,s){this.$element=t,this.settings=e.extend({},i,s),this._defaults=i,this._name=a,this._serverDate=null,this._javaScriptDate=null,this.currentDate=null,this.targetDate=null,this.days=null,this.hours=null,this.minutes=null,this.seconds=null,this.deciseconds=null,this.milliseconds=null,this.daysLabel=null,this.hoursLabel=null,this.minutesLabel=null,this.secondsLabel=null,this.decisecondsLabel=null,this.millisecondsLabel=null,this._intervalId=null,this._wrapsExists={},this._oldValues={},this._changed=!1,this.init()}var a="appleTimer",i={day:1,month:1,year:2050,hour:0,minute:0,second:0,millisecond:0,timeZone:-7,countUp:!1,currentDateTime:null,daysWrapper:".at-days",hoursWrapper:".at-hours",minutesWrapper:".at-minutes",secondsWrapper:".at-seconds",decisecondsWrapper:".at-dseconds",millisecondsWrapper:".at-mseconds",daysLabelWrapper:".at-days-label",hoursLabelWrapper:".at-hours-label",minutesLabelWrapper:".at-minutes-label",secondsLabelWrapper:".at-seconds-label",decisecondsLabelWrapper:".at-dseconds-label",millisecondsLabelWrapper:".at-mseconds-label",singularLabels:!1,daysLabel:"var daysleft =   ",dayLabel:" var daysleft = ",hoursLabel:"var hoursleft = ",hourLabel:"var hoursleft = ",minutesLabel:"var minutesleft = ",minuteLabel:"var minutesleft = ",secondsLabel:"var secondsleft = ",secondLabel:"var secondsleft = ",decisecondsLabel:"Deciseconds",decisecondLabel:"Decisecond",millisecondsLabel:"Milliseconds",millisecondLabel:"Millisecond",timeout:1e3,highspeedTimeout:4,leftHandZeros:!0,wrapDigits:!0,wrapDigitsTag:"span",dayInMilliseconds:864e5,hourInMilliseconds:36e5,minuteInMilliseconds:6e4,secondInMilliseconds:1e3,decisecondInMilliseconds:100,onInit:null,beforeCalculation:null,afterCalculation:null,onChange:null,onComplete:null};l.prototype={init:function(){var t=this,s=t.$element,n=t.settings;(e(s).find(n.decisecondsWrapper).length>0||e(s).find(n.millisecondsWrapper).length>0)&&(n.timeout=n.highspeedTimeout),null!=n.currentDateTime&&t.setCurrentDate(n.currentDateTime),e.isFunction(n.onInit)&&n.onInit.call(t),t._intervalId=setInterval(function(){t.calculate()},n.timeout),t.calculate()},calculate:function(){var t=this,s=t.settings,n=s.dayInMilliseconds,l=s.hourInMilliseconds,a=s.minuteInMilliseconds,i=s.secondInMilliseconds,r=s.decisecondInMilliseconds,o=!1;t._changed=!1,t.setTargetDate(new Date(s.year,s.month-1,s.day,s.hour,s.minute,s.second)),e.isFunction(s.beforeCalculation)&&s.beforeCalculation.call(t);var u=t.getCurrentDate(),d=t.getTargetDate(),c=u.getTime(),h=null===s.timeZone?0:(d.getTimezoneOffset()/60+s.timeZone)*s.hourInMilliseconds,m=d.getTime()-h,p=m-c,g=p;t.currentDate=u;var f=t.round(g/n);g%=n;var b=t.round(g/l);g%=l;var L=t.round(g/a);g%=a;var D=t.round(g/i),v=g%i,_=t.round(v/r);0==s.countUp?(f=t.naturalNum(f),b=t.naturalNum(b),L=t.naturalNum(L),D=t.naturalNum(D),v=t.naturalNum(v),_=t.naturalNum(_)):(f=-1*f,b=-1*b,L=-1*L,D=-1*D,v=-1*v,_=-1*_),t.days=f,t.hours=b,t.minutes=L,t.seconds=D,t.milliseconds=v,t.deciseconds=_,t.format(),t.output(),Math.floor(p/s.timeout)<=0&&0==s.countUp&&(o=!0,(null!=s.millisecondsWrapper||null!=s.decisecondsWrapper)&&(o=0>=p?!0:!1)),1==o&&(e.isFunction(s.onComplete)&&s.onComplete.call(t),clearInterval(t._intervalId)),e.isFunction(s.afterCalculation)&&s.afterCalculation.call(t)},format:function(){var e=this,t=e.settings,s=t.singularLabels,n=e.days,l=e.hours,a=e.minutes,i=e.seconds,r=e.deciseconds,o=e.milliseconds,u=t.dayLabel,d=t.hourLabel,c=t.minuteLabel,h=t.secondLabel,m=t.decisecondLabel,p=t.millisecondsLabel;1==t.leftHandZeros&&(e.days=e.strPad(n,2),e.hours=e.strPad(l,2),e.minutes=e.strPad(a,2),e.seconds=e.strPad(i,2),e.milliseconds=e.strPad(o,3)),e.daysLabel=1==n&&null!==u&&1==s?u:t.daysLabel,e.hoursLabel=1==l&&null!==d&&1==s?d:t.hoursLabel,e.minutesLabel=1==a&&null!==c&&1==s?c:t.minutesLabel,e.secondsLabel=1==i&&null!==h&&1==s?h:t.secondsLabel,e.decisecondsLabel=1==r&&null!==m&&1==s?m:t.decisecondsLabel,e.millisecondsLabel=1==o&&null!==p&&1==s?p:t.millisecondsLabel},output:function(){var t=this,s=t.settings;t.writeLabelToDom(s.daysLabelWrapper,t.daysLabel),t.writeLabelToDom(s.hoursLabelWrapper,t.hoursLabel),t.writeLabelToDom(s.minutesLabelWrapper,t.minutesLabel),t.writeLabelToDom(s.secondsLabelWrapper,t.secondsLabel),t.writeLabelToDom(s.decisecondsLabelWrapper,t.decisecondsLabel),t.writeLabelToDom(s.millisecondsLabelWrapper,t.millisecondsLabel),t.writeDigitsToDom(s.daysWrapper,t.days,"at-days-digit"),t.writeDigitsToDom(s.hoursWrapper,t.hours,"at-hours-digit"),t.writeDigitsToDom(s.minutesWrapper,t.minutes,"at-minutes-digit"),t.writeDigitsToDom(s.secondsWrapper,t.seconds,"at-seconds-digit"),t.writeDigitsToDom(s.decisecondsWrapper,t.deciseconds,"at-dseconds-digit"),t.writeDigitsToDom(s.millisecondsWrapper,t.milliseconds,"at-mseconds-digit"),e.isFunction(s.onChange)&&1==t._changed&&s.onChange.call(t)},pause:function(){var e=this,t=e._intervalId;t&&clearInterval(t)},resume:function(){var e=this,t=e.settings;e._intervalId=setInterval(function(){e.calculate()},t.timeout)},destroy:function(){var e=this,t=e._intervalId;t&&clearInterval(t)},getOption:function(e){return this.settings[e]},setOption:function(e,t){this.settings[e]=t,"currentDateTime"==e&&this.setCurrentDate(t)},setTargetDate:function(e){this.targetDate=e},getTargetDate:function(){return this.targetDate},setCurrentDate:function(e){this._serverDate=new Date(e),this._javaScriptDate=new Date},getCurrentDate:function(){var e,t,s=this,n=s.settings;return null!=n.currentDateTime?(e=s._serverDate-s._javaScriptDate,t=(new Date).getTime(),new Date(t+e)):new Date},round:function(e){return 0==this.settings.countUp?Math.floor(e):Math.ceil(e)},naturalNum:function(e){return 0>e?0:e},strPad:function(e,t,s){var n=e.toString();for(s||(s="0");n.length<t;)n=s+n;return n},writeLabelToDom:function(t,s){var n=this,l=e(n.$element);null==n._wrapsExists[t]&&(n._wrapsExists[t]=l.find(t).length>0?!0:!1),n._oldValues[t]!=s&&n._wrapsExists[t]&&(n._oldValues[t]=s,l.find(t).text(s),n._changed=!0)},writeDigitsToDom:function(t,s,n){var l,a,i=this,r=i.settings,o=r.wrapDigitsTag,u=e(i.$element),d=u.find(t),s=s.toString(),c=[];if(null==i._wrapsExists[t]&&(i._wrapsExists[t]=d.length>0?!0:!1),0==i._wrapsExists[t])return!1;if(1==r.wrapDigits)for(var h=0;h<s.length;h++)c[h]=s[h];else c[0]=s;if("undefined"==typeof i._oldValues[t]&&(i._oldValues[t]=[]),i._oldValues[t].length>c.length){a=i._oldValues[t].length-c.length,l=d.find(o),l.slice(0,a).remove(),l=d.find(o);for(var h=0;h<c.length;h++)l.eq(h).text(c[h]);i._changed=!0}if(i._oldValues[t].length<c.length){if(0==r.wrapDigits)d.text(c[0]);else{0==i._oldValues[t].length&&d.text("");for(var m="",h=0;h<c.length;h++)a=c.length-i._oldValues[t].length,a>h?m+="<"+o+' class="'+n+'">'+c[h]+"</"+o+">":(l=d.find(o),l.eq(h-a).text(c[h]));d.prepend(m)}i._changed=!0}if(i._oldValues[t].length==c.length)if(0==r.wrapDigits)i._oldValues[t][0]!=c[0]&&(d.text(c[0]),i._changed=!0);else for(var h=0;h<c.length;h++)i._oldValues[t][h]!=c[h]&&(l=d.find(o),l.eq(h).text(c[h]),i._changed=!0);i._oldValues[t]=[];for(var h=0;h<c.length;h++)i._oldValues[t][h]=c[h]}},e.fn[a]=function(t,s,n){var i=null,r=this.each(function(){var r=null;if(e.data(this,a)){if(r=e.data(this,a),"destroy"===t)return r.destroy(),void e.data(this,a,null);var o=r[t];return"function"==typeof o&&(i=o.call(r,s,n)),!1}r=new l(this,t),e.data(this,a,r)});return i?i:r}}(jQuery,window,document);
